/* iOS Safari Z-Index and Touch Event Fixes */

/* Force z-index stacking on iOS Safari with !important */
.app-toolbar {
	position: relative !important;
	z-index: 9999 !important;
	isolation: isolate !important;
	background: white !important;
	will-change: transform !important;
}

.canvas-container {
	position: relative !important;
	z-index: 1 !important;
	isolation: isolate !important;
}

.canvas-svg {
	position: absolute !important;
	top: 0 !important;
	left: 0 !important;
	z-index: 10 !important;
	pointer-events: auto !important;
	touch-action: none !important;
	will-change: transform !important;
}

.items-html-layer {
	position: relative !important;
	z-index: 5 !important;
	isolation: isolate !important;
}

.items-html-layer {
	position: relative;
	z-index: 5; /* Items below SVG overlay */
}

.app-toolbar {
	position: relative;
	z-index: 100; /* Toolbar always on top */
}

.app-header {
	position: relative;
	z-index: 999; /* Header always on top */
}

/* Fix iOS Safari touch events for interactive elements */
.selection-overlay,
.resize-handle,
.rotation-handle {
	pointer-events: auto !important;
	touch-action: none !important;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	user-select: none;
}

/* Improve touch targets on iOS */
.resize-handle {
	min-width: 44px !important;
	min-height: 44px !important;
	transform-origin: center;
}

.rotation-handle {
	min-width: 44px !important;
	min-height: 44px !important;
}

/* Fix iOS Safari viewport issues */
body {
	position: fixed;
	overflow: hidden;
	-webkit-overflow-scrolling: touch;
	height: 100vh;
	width: 100vw;
}

/* Prevent iOS Safari zoom on double tap */
* {
	touch-action: manipulation;
}

/* Fix iOS Safari SVG rendering issues */
svg {
	-webkit-transform: translateZ(0);
	transform: translateZ(0);
}
